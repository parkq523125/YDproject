<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.company.animal.service.impl.AnimalMapper">

	<!-- 동물 리스트 조회 -->
	<select id="getSearchAnimal" parameterType="AnimalVO" resultType="AnimalVO">
		SELECT ANIMALNUMBER
			, NAME
			, GENDER
			, KIND
			, BIRTH
			, MEMBERID
			FROM ANIMAL
			WHERE MEMBERID=#{memberId}
	</select>
	
	<!-- 반려동물 상세조회(의료수첩에 포함) -->
	<select id="getAnimal" parameterType="AnimalVO" resultType="AnimalVO">
		SELECT ANIMALNUMBER
			, NAME
			, GENDER
			, KIND
			, BIRTH
			, MEMBERID
		FROM ANIMAL
		WHERE ANIMALNUMBER = #{animalNumber}
		</select>

	<!-- 반려동물 등록 -->
	<insert id="insertAnimal" parameterType="AnimalVO">
		INSERT INTO ANIMAL (
					ANIMALNUMBER
				  , NAME
				  , GENDER
				  , KIND
				  ,BIRTH
				  , MEMBERID
				  ) VALUES(
				  ANI_SEQ.NEXTVAL
				  , #{name}
				  , #{gender}
				  , #{kind}
				  , #{birth}
				  , #{memberId})
	</insert>
	
	<!-- 반려동물 정보 수정 -->
	<update id="updateAnimal" parameterType="AnimalVO">
		UPDATE ANIMAL SET 
				NAME = #{name}
			, GENDER = #{gender}
			,KIND = #{kind}
			, BIRTH = #{birth}
			, MEMBERID = #{memberId}
		WHERE ANIMALNUMBER = #{animalNumber}
	</update>
	
	<!-- 반려동물 삭제 -->
	<delete id="deleteAnimal" parameterType="AnimalVO">
		DELETE FROM ANIMAL
		WHERE memberId = #{memberId}
	</delete>
</mapper>