<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.company.buy.service.impl.BuyMapper">
	<!-- 결제 insert -->
	<insert id="insertBuy2" parameterType="BuyVO">
		INSERT INTO BUY
			(BUYNUMBER
			,CATEGORY
			,OPTIONNAME
			,COUNT
			,PRICE
			,FROMPERSON
			,TOPERSON
			,POST
			,ADDRESS
			,ADDRESS2
			,PHONE
			,PRODUCTNUMBER
			,PNDNUMBER
			,BUYSTATE			
			)VALUES(
				(SELECT NVL(MAX(BUYNUMBER),0)+1 FROM BUY)
				,#{category}
				,#{optionName}
				,#{count}
				,#{price}
				,#{fromPerson}
				,#{toPerson}
				,#{post}
				,#{address}
				,#{address2}
				,#{phone}
				,#{productNumber}
				,#{pndNumber}
			)			
	</insert>
</mapper>